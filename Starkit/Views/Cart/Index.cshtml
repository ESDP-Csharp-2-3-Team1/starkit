@model object

@{
    ViewBag.Title = "Корзина";
    Layout = "_BusinessCardLayout";
}

<h3 class="text-cart">Корзина</h3>
<div style="overflow-x: auto">
    <table class="table table-bordered">
        <thead>
        <tr>
            <th class="cart-cell">Наименования</th>
            <th class="cart-cell">Картинка</th>
            <th class="cart-cell">Цена</th>
            <th class="cart-cell">Действие</th>
            <th class="cart-cell">Количество</th>
            <th class="cart-cell">Общая стоимость</th>
        </tr>
        </thead>
        <tbody id="result"></tbody>
    </table>
</div>
<br>
<a asp-controller="Site" asp-action="index">Назад</a>
@section Scripts
{
    <script >
        $(document).ready(function (){
           $.get('@Url.Action("GetContentCard")', function (data){
               $("#result").html(data);
           }) 
        });
        
        function down(id, qty){
            if (qty > 0){
                $.get(`@Url.Action("ChangeQuantity")?id=${id}&quantity=${qty}`, function (data){
                    $("#result").html(data);
                })   
            }
        }
        
        function up(id, qty){
            $.get(`@Url.Action("ChangeQuantity")?id=${id}&quantity=${qty}`, function (data){
                $("#result").html(data);
            })
        }
    </script>
}
